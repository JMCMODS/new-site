<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Project Santos RP</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="bodyStaff">
    <header>
        <img class="logo" src="images/logo.png" alt="logo" />
        <nav>
            <ul class="nav_links">
                <li><a href="index.html"><i class="fas fa-home" style="margin-right: 8px;"></i>Home</a></li>
                <li><a href="download.html"><i class="fas fa-download" style="margin-right: 8px;"></i>Download</a></li>
                <li><a href="suggestions.html"><i class="fas fa-lightbulb" style="margin-right: 8px;"></i>Suggestions</a></li>
                <li><a href="staff.html"><i class="fas fa-users" style="margin-right: 8px;"></i>The Team</a></li>
                <li><a href="media.html"><i class="fas fa-photo-film" style="margin-right: 8px;"></i>Media</a></li>
                <li><a href="support.html"><i class="fas fa-heart" style="margin-right: 8px;"></i>Support</a></li>
                 <li><a href="roadmap.html"><i class="fas fa-map" style="margin-right: 8px;"></i>Roadmap</a></li>
            </ul>
        </nav>
        <div class="cta"></div>
    </header>




    <section class="mob-header">
        <nav>
            <div class="mob-links" id="mobLinks">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> </a></li>
                    <li><a href="download.html"><i class="fas fa-download"></i></a></li>
                    <li><a href="suggestions.html"><i class="fas fa-lightbulb"></i> </a></li>
                    <li><a href="staff.html"><i class="fas fa-users"></i> </a></li>
                    <li><a href="media.html"><i class="fas fa-photo-film"></i> </a></li>
                    <li><a href="support.html"><i class="fas fa-heart"></i></a></li>
                </ul>
            </div>
        </nav>
    </section>

    <section class="image-row-section">
        <h2 class="image-row-title">Recommended Content Creators</h2>

        <div class="image-row">
            <div class="image-container">
                <a href="https://www.youtube.com/@jaithagamer3821" target="_blank">
                    <img src="images/jaiLogo.jpg" alt="Jai The Gamer">
                    <p class="caption">Jai The Gamer</p>
                </a>
            </div>
            <div class="image-container">
                <a href="https://www.youtube.com/@SubToCryptic" target="_blank">
                    <img src="images/crypLogo.jpg" alt="Cryptic">
                    <p class="caption">Cryptic</p>
                </a>
            </div>
            <div class="image-container">
                <a href="https://www.youtube.com/@Games_Graphics" target="_blank">
                    <img src="images/ggLogo.jpg" alt="Games And Graphics">
                    <p class="caption">Games And Graphics</p>
                </a>
            </div>
        </div>
    </section>


    <h2>PSRP MEDIA</h2>
    <div class="gallery">
        <img src="images/MediaGallery/media1.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media2.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media3.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media4.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media5.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media6.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media7.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media8.jpg" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media9.jpg" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media10.jpg" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media12.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media13.png" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media14.jpg" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media15.jpg" alt="Image 6" onclick="openModal(this.src)" />
        <img src="images/MediaGallery/media16.png" alt="Image 6" onclick="openModal(this.src)" />

    </div>
    <h2>Fire Youtube Vids ðŸ”¥</h2>

    <div class="video-gallery">
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/_PxV8CaS-8g" allowfullscreen></iframe>
        </div>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/2AgPeq2qUVs" allowfullscreen></iframe>
        </div>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/cLLOlALR0Sk" allowfullscreen></iframe>
        </div>
    </div>

    <div id="modal" class="modal" onclick="closeModal()">
        <a class="close" onclick="closeModal()">&times;</a>
        <img id="modal-img" src="" alt="Expanded View">
    </div>

    <footer>
        <div class="footerContainer">
            <div class="socialIcons">
                <a href=""><i class="fa-brands fa-discord"></i></a>
                <a href=""><i class="fa-brands fa-tiktok"></i></a>
                <a href=""><i class="fa-brands fa-youtube"></i></a>
                <a href=""><i class="fa-brands fa-patreon"></i></a>
            </div>
        </div>
        <div class="footerBottom">
            <p>Copyright &copy;2025: Designed by <span class="designer">JMC MODS</span></p>
        </div>
    </footer>
    <script>
        function openModal(src) {
            document.getElementById('modal-img').src = src;
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
    </script>
	      <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
        let userSignedIn = false;

        // Set cookie helper (expires in days)
        function setCookie(name, value, days) {
            const expires = new Date(Date.now() + days * 864e5).toUTCString();
            document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/';
        }

        // Get cookie helper
        function getCookie(name) {
            return document.cookie.split('; ').reduce((r, v) => {
                const parts = v.split('=');
                return parts[0] === name ? decodeURIComponent(parts[1]) : r;
            }, '');
        }

        // Google Sign-In callback
        function handleCredentialResponse(response) {
            console.log('Google sign-in response:', response);
            const base64Url = response.credential.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(
                atob(base64)
                    .split('')
                    .map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))
                    .join('')
            );
            const userObject = JSON.parse(jsonPayload);

            userSignedIn = true;

            // Save cookies for 7 days
            setCookie('userSignedIn', 'true', 7);
            setCookie('userProfile', JSON.stringify(userObject), 7);

            // Enable submit button
            const submitBtn = document.getElementById('submitBtn');
            if (submitBtn) submitBtn.disabled = false;

            // Show user pic in header cta div
            const ctaDiv = document.querySelector('.cta');
            if (ctaDiv) {
                ctaDiv.style.display = 'flex';
               ctaDiv.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="${userObject.picture}" alt="User Image" style="width:32px; height:32px; border-radius:50%;">
                    <button id="signOutBtn" style="padding: 6px 10px; font-size: 14px;">Sign Out</button>
                </div>
            `;
                            ctaDiv.style.cursor = 'default';
            }
            const signOutBtn = document.getElementById('signOutBtn').addEventListener('click', signOut);
            if (signOutBtn) {
                signOutBtn.style.display = 'inline-block';
                signOutBtn.addEventListener('click', signOut);
            }
        }

        window.onload = () => {
            const signedInCookie = getCookie('userSignedIn');
            const profileCookie = getCookie('userProfile');

           if (signedInCookie === 'true' && profileCookie) {
    userSignedIn = true;
    const submitBtn = document.getElementById('submitBtn');
    if (submitBtn) submitBtn.disabled = false;

    const userObject = JSON.parse(profileCookie);
    const ctaDiv = document.querySelector('.cta');
    if (ctaDiv) {
        ctaDiv.style.display = 'flex';
        ctaDiv.style.cursor = 'default';
        ctaDiv.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px;">
                <img src="${userObject.picture}" alt="User Image" style="width:32px; height:32px; border-radius:50%;">
                <button id="signOutBtn" style="padding: 6px 10px; font-size: 14px;">Sign Out</button>
            </div>
        `;
        document.getElementById('signOutBtn').addEventListener('click', signOut);
    }
            } else {
                // Initialize Google Sign-In button
                google.accounts.id.initialize({
                    client_id: '387205003521-n7amkkkb0k1p6n3s46br9kglr027j9oj.apps.googleusercontent.com',  // Replace this!
                    callback: handleCredentialResponse,
                    auto_select: false
                });

                google.accounts.id.renderButton(
                    document.querySelector('.cta'),
                    {
                        theme: "outline",
                        shape: "icon",
                        size: "large"
                    }
                );

                const submitBtn = document.getElementById('submitBtn');
                if (submitBtn) submitBtn.disabled = true;
            }

            // Prevent submit if not signed in
            const form = document.getElementById('suggestionForm');
            if (form) {
                form.addEventListener('submit', (e) => {
                    if (!userSignedIn) {
                        e.preventDefault();
                        alert('Please sign in to submit your suggestion.');
                    }
                });
            }

            // Character count for textarea
            const messageInput = document.getElementById('message');
            const charCount = document.getElementById('charCount');
            if (messageInput && charCount) {
                messageInput.addEventListener('input', () => {
                    charCount.textContent = `${messageInput.value.length}/500 characters`;
                });
            }
        };
        function signOut() {
    // Clear cookies
    setCookie('userSignedIn', '', -1);
    setCookie('userProfile', '', -1);

    userSignedIn = false;

    // Reset UI
    const ctaDiv = document.querySelector('.cta');
    if (ctaDiv) {
        ctaDiv.innerHTML = ''; // Clear current user image or button
        google.accounts.id.renderButton(ctaDiv, {
            theme: "outline",
            shape: "icon",
            size: "large"
        });
    }

    const submitBtn = document.getElementById('submitBtn');
    if (submitBtn) submitBtn.disabled = true;

    const signOutBtn = document.getElementById('signOutBtn');
    if (signOutBtn) signOutBtn.style.display = 'none';
}

    </script>

</body>
</html>